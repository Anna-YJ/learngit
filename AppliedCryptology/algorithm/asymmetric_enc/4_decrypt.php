<?php
/**
 * @description
 * @author huangwei
 */
$cipher_text_hex = "640176361c8cf2172063d29d7fd6fa59eb5a048793bb688ebd74c90bf6674bb16eef50b33362ffc44c8fa6c35daa96280c72a82df60e96a7e986d1686f5977ec4c1dfb1a8ad6399cac328b616cf5d14b79e108f34d942c4253b5b84d023a833cbcf5b6afb2656a74e2e705ac87014be33508ea9121a349a2cdf683f069025ee6494bf0eef8b9818dc8adb747cffa3894569b424db3e20d6742e58dfe4b8af9961721269851b191fe5261a372f34afaeefe9446c00d3cf15f80c428425aa283452db12152a6496f768f749b916ba9bd52cc019159adf7709c5ec2c7f133d38c736245b868150ffe2b7c197342ff191b3d6b7534293e5b030be9ef65cff0d6593b";
$priv_key = <<< PRIV_KEY
-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEA7nH9tNZO7hYthJVo7xVpbx0H2go5VgNVRXSMHADSO95ihUzW
Dz80CCfHYC1IqEbvTdbxv3L5ZX1QP5ScLHrI7K4Kh+3WJez7gQuQ2d7jgVOe4NvT
o5n6dCsoOLdAYdb5QeOphb9uGAQMwKC5suGEgJtI1kETN/9W7gq4vxFc/UMvoWsK
DlWcq48MYZv4tvqgkhe9CV6W43itnEjD2w3ZQ64nSQNDpXAKtVXYVXhhHkoT+wpI
hHE3OT54sZ3thZdNczi6Xr4jc+jtAnwUJ2PmmdsX/FWEWoziUfc/wUTGo40efZYy
Z6GEbjqGCPc1YVozYWUjO34zw11emYxYY34cnQIDAQABAoIBAAvbeU1T1ur6CVtt
fqFdBDg1Tl2mYoGHeucQS6Nc2xeFEIsmbgKmFvVM3RpIRjOwC1holu75TbOhTqtK
vZVsqa8zXGy0BBEwvrUFGTfsYI3e1ajC5bxd/NloCAECA96ZrR18r8Jp6ZSiJuwx
Ueq2Ujt+/VlCNS10siL2P4eo2mHxq8mWgY2TAsPXdAdcjs6xSZzFZ0KUr78oaX4M
+UTKLJTmMqoT9Eg2NWrv2mL+29mVenoKevX32UHyFXjZ5fnn+90rrDImpobMWejD
OLcHJgskXauelDJ+EtlPhplwUnOquOnBUp9Cr39KHsCqvkxWBWnxFZ/yao6hl/wq
8fpaWyECgYEA/Jwdxq/Kt/feD2DhiRgUNjVogW/7/4KrVsuRMdyOdA2FfgzZ6NLh
R9xsz6QZ+d4fxSmij6Jt4w6CTcXUJ+WVggeqzEMAENd54LfAvq8kitbKoK8nKRPO
0SRRcRuwkJRHP0ptq6B+dvawt5ge9tcW30KKNGFu+5LDBkOpTVK+niUCgYEA8aU1
w9+jI6IoPW4GskqbS80DH6LQxgzRX2ttZHPlzC/kWvnQuF1R6aPx9qNJ6djsKzF6
LoShR0z07X+sA7I78OCN5r0FbEgoS8C0xszbv9BizY1qstsa94pPK/gQfRI+hWCz
I/4ZVMs51mQorxkzt2mtA6pgFpDlPCd34yNCjxkCgYEAnKM5m4BaFaVvXt3WPCpg
LhUEDm8gNZoTIKjuCZsYAkJ4KmdRoBtTcjnuhvrc2KGx1ZIxqRsxRIA0sIEhQvQL
tyuF708EdW0HuB55OERmRmlWEDlL8R7FOc5padefrqcjXs2KH8hPYvkpL072tF0/
Y4VhKYXZScoBgJroGnhalrkCgYBgAKgEorPYs1LTXQQSD2v1SITmK7RQCsWf6Dk0
wIrafWh28GsI5CJn9Xdq6mKyIjlpy6VkF9NPVXa1aJS5fzUrNLuLoSsnYt+HgQ8R
MFBZu3uVeIqcdkoXcH6V1F8QoY/vQ4TIVupPctIOqAo1zohqZPSU0TqNnJFGPdP2
jIqj+QKBgQCBGcjf+buMTKecxU6sp09x3hMTDLfD2GSO7fe2fhoQ2GA0q+vRuSZn
4JPCrvNVKOp8SELJk2+H6jkxGQH8ccXsZe7Uv006OMk31QEA9UagbDPXYwl5EN7j
URGw5qT2YXfC3sGFwVNXEMJMS4cWKFCEaT+EIHQrKN9kJ0/lWYZdfA==
-----END RSA PRIVATE KEY-----
PRIV_KEY;

// 方法1： 硬编码私钥
$result = openssl_private_decrypt(hex2bin($cipher_text_hex), $message, $priv_key);

echo "硬编码私钥方式解密demo" . PHP_EOL;
var_dump($result);
var_dump($message);

// 方法2：读取私钥文件
unset($message);
$priv_key = openssl_pkey_get_private("file:///". dirname(__FILE__) . "/server.key");

$result = openssl_private_decrypt(file_get_contents("3_encrypt.enc"), $message, $priv_key); 

echo "读取私钥文件方式解密demo" . PHP_EOL;
var_dump($result);
var_dump($message);




